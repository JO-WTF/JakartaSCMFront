<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- We prevent the user from zooming on mobile device -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <title>My Scanner App</title>
  </head>
  <body style="margin: 0">
    <div id="container" style="width:640px;height:480px;"></div>
    <div id="result"></div>
    <script type="module">
      // We import the necessary ScanbotSDK module
      import "./scanbot-web-sdk/bundle/ScanbotSDK.ui2.min.js";
      // When initializing the SDK, we specify the path to the barcode scanner engine
      const sdk = await ScanbotSDK.initialize({
        engine: "scanbot-web-sdk/bundle/bin/barcode-scanner/",
      });
      let scanner;
      const configuration = {
        //  The `id` of the containing HTML element where the Barcode Scanner will be initialized.
        containerId: "container",
        onBarcodesDetected: (result) => {
          // If you're happy with the result, dispose the scanner right away
          scanner.dispose();
          console.log(result);
          // Otherwise the scanner will continue scanning and delivering results
          const format = result.barcodes[0].format; // The barcode's symbology
          const text = result.barcodes[0].text; // The text value of the barcode
          // ...
        },
      };
      scanner = await sdk.createBarcodeScanner(configuration);
    </script>
  </body>
</html>
